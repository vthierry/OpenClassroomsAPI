<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Class&#39;Code wordpress plugin PHP/JS middleware: OpenClassroomsAPI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LOGO-ClassCode-coul.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Class&#39;Code wordpress plugin PHP/JS middleware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classOpenClassroomsAPI-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenClassroomsAPI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines the functionnalities to acces to the OpenClassroooms API.  
 <a href="classOpenClassroomsAPI.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7ddbd5234856c2764be302b3d8565aef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#a7ddbd5234856c2764be302b3d8565aef">getProfile</a> ()</td></tr>
<tr class="memdesc:a7ddbd5234856c2764be302b3d8565aef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the user profile information from the OpenClassroooms API.  <a href="#a7ddbd5234856c2764be302b3d8565aef">More...</a><br /></td></tr>
<tr class="separator:a7ddbd5234856c2764be302b3d8565aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783484df9a1246cd2f40a5082736a7e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#a783484df9a1246cd2f40a5082736a7e8">getData</a> ($name)</td></tr>
<tr class="memdesc:a783484df9a1246cd2f40a5082736a7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a given data structure from the OpenClassroooms API.  <a href="#a783484df9a1246cd2f40a5082736a7e8">More...</a><br /></td></tr>
<tr class="separator:a783484df9a1246cd2f40a5082736a7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6001a4b84f74a23bde0f3ce6d5f3b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#aee6001a4b84f74a23bde0f3ce6d5f3b4">getAccessToken</a> ()</td></tr>
<tr class="memdesc:aee6001a4b84f74a23bde0f3ce6d5f3b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encapsulates a OAuth2 token request.  <a href="#aee6001a4b84f74a23bde0f3ce6d5f3b4">More...</a><br /></td></tr>
<tr class="separator:aee6001a4b84f74a23bde0f3ce6d5f3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bae74ae6e3347f87f106554e8a889ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#a2bae74ae6e3347f87f106554e8a889ac">userData</a> ($name, $value=false)</td></tr>
<tr class="memdesc:a2bae74ae6e3347f87f106554e8a889ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets/Sets the user data from the WP database.  <a href="#a2bae74ae6e3347f87f106554e8a889ac">More...</a><br /></td></tr>
<tr class="separator:a2bae74ae6e3347f87f106554e8a889ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4c5690a66c07de34b0a5247a04997c35"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#a4c5690a66c07de34b0a5247a04997c35">test</a> ()</td></tr>
<tr class="separator:a4c5690a66c07de34b0a5247a04997c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a6312ae673bd8d4ff4c4157a9c9371"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#a00a6312ae673bd8d4ff4c4157a9c9371">httpRequest</a> ($request)</td></tr>
<tr class="memdesc:a00a6312ae673bd8d4ff4c4157a9c9371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encasulates a HTTP GET or POST request using curl.  <a href="#a00a6312ae673bd8d4ff4c4157a9c9371">More...</a><br /></td></tr>
<tr class="separator:a00a6312ae673bd8d4ff4c4157a9c9371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee5a57c2a898223f6a2c24c6a4152ad"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#a0ee5a57c2a898223f6a2c24c6a4152ad">httpRedirect</a> ($url)</td></tr>
<tr class="memdesc:a0ee5a57c2a898223f6a2c24c6a4152ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encapsulates a HTTP redirection.  <a href="#a0ee5a57c2a898223f6a2c24c6a4152ad">More...</a><br /></td></tr>
<tr class="separator:a0ee5a57c2a898223f6a2c24c6a4152ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e53ef2394e00ce430ecc83d08cb7e5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenClassroomsAPI.html#a90e53ef2394e00ce430ecc83d08cb7e5">getCurrentURL</a> ()</td></tr>
<tr class="memdesc:a90e53ef2394e00ce430ecc83d08cb7e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current HTTP URL.  <a href="#a90e53ef2394e00ce430ecc83d08cb7e5">More...</a><br /></td></tr>
<tr class="separator:a90e53ef2394e00ce430ecc83d08cb7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the functionnalities to acces to the OpenClassroooms API. </p>
<p>This codes is organized in four layers:</p><ul>
<li>OpenClassrooms user data retrieval<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>(still in dev)</dd></dl>
</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/vthierry/OpenClassroomsAPI">https://github.com/vthierry/OpenClassroomsAPI</a> for download </dd>
<dd>
<a href="https://github.com/vthierry/OpenClassroomsAPI/blob/master/README.md">README.md</a> and <a href="https://github.com/vthierry/OpenClassroomsAPI/blob/master/LICENSE">LICENCE</a> for meta information </dd>
<dd>
<a href="http://docs.openclassrooms.apiary.io/#">http://docs.openclassrooms.apiary.io/#</a> for OpenClassrooms documentation </dd></dl>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00021">21</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aee6001a4b84f74a23bde0f3ce6d5f3b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenClassroomsAPI::getAccessToken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encapsulates a OAuth2 token request. </p>
<ul>
<li>This method automatically detects if an access token exists, has to be refreshed, or if an authentification code has to be granted. <dl class="section see"><dt>See also</dt><dd><a href="http://docs.openclassrooms.apiary.io/">http://docs.openclassrooms.apiary.io/</a> </dd>
<dd>
<a href="http://oauth.net/2/">http://oauth.net/2/</a> </dd></dl>
</li>
</ul>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00072">72</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

<p>References <a class="el" href="OpenClassroomsAPI_8php_source.html#l00281">userData()</a>.</p>

</div>
</div>
<a class="anchor" id="a90e53ef2394e00ce430ecc83d08cb7e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static OpenClassroomsAPI::getCurrentURL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current HTTP URL. </p>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00255">255</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

</div>
</div>
<a class="anchor" id="a783484df9a1246cd2f40a5082736a7e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenClassroomsAPI::getData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a given data structure from the OpenClassroooms API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$name</td><td>The data structure name, e.g. "courses" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An associative array of the form: <code>{ "code" : "value", "body" = { … } }</code>. </dd></dl>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00052">52</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7ddbd5234856c2764be302b3d8565aef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenClassroomsAPI::getProfile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the user profile information from the OpenClassroooms API. </p>
<p>-&gt; NOT YET TESTED , NOT SURE OF THE CODE </p>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00039">39</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0ee5a57c2a898223f6a2c24c6a4152ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static OpenClassroomsAPI::httpRedirect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encapsulates a HTTP redirection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$url</td><td>The redirection URL </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00249">249</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

</div>
</div>
<a class="anchor" id="a00a6312ae673bd8d4ff4c4157a9c9371"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static OpenClassroomsAPI::httpRequest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encasulates a HTTP GET or POST request using curl. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$request</td><td>An array with the following input fields:<ul>
<li><code>url</code> : The required URL to request,</li>
<li><code>header</code> : An optional array of strings with the different header lines,</li>
<li><code>basic-auth</code> : The optional $username.":".$password of the basic auth, if any,</li>
<li><code>with-range</code> : If true performs several request in order to complete a partial range answer (i.e. code 206).</li>
<li><code>post</code> : If set, defines a post request and provides the post body. This sets header the Content-Length field.<ul>
<li>In that case the returned header is the 1st request header and the body is an array with all collected bodies. </li>
</ul>
</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array with the following output fields:<ul>
<li><code>code</code> : The HTTP response status code (e.g., code <code>200</code> if ok),</li>
<li><code>header</code> : An associative array with header as <code>key =&gt; value</code>,<ul>
<li>With a code <code>206</code> the <code>Content-range</code> field is parsed as an array with the <code>start-index</code>, <code>stop-index</code>, and <code>total-length</code>.</li>
</ul>
</li>
<li><code>body</code> : The response body, parsed as a JSON structure, if possible.</li>
<li><code>error</code> : A string with an error message, or false if no error. </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="http://php.net/manual/fr/ref.curl.php">http://php.net/manual/fr/ref.curl.php</a> </dd></dl>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00152">152</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4c5690a66c07de34b0a5247a04997c35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static OpenClassroomsAPI::test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00025">25</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2bae74ae6e3347f87f106554e8a889ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenClassroomsAPI::userData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets/Sets the user data from the WP database. </p>
<ul>
<li>This method must be overwitten for a non wordpress implementation. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$name</td><td>The parameter name. Registered names are:</td></tr>
  </table>
  </dd>
</dl>
</li>
<li>client_id : The OC client ID;</li>
<li>state : An opaque value to mainain state between the request and callback.</li>
<li>access_token, access_token_expires_at, refresh_token : For OAuth2 management. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$value</td><td>The parameter value if to be set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The parameter values. </dd></dl>
</li>
</ul>

<p>Definition at line <a class="el" href="OpenClassroomsAPI_8php_source.html#l00281">281</a> of file <a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a>.</p>

<p>Referenced by <a class="el" href="OpenClassroomsAPI_8php_source.html#l00072">getAccessToken()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="OpenClassroomsAPI_8php_source.html">OpenClassroomsAPI.php</a></li>
</ul>
</div><!-- contents -->
<hr/><div align='right'><tt>Class'Code middleware (version of 2016-09-11 at 16:39:26) </tt> </div><hr/></body></html>
